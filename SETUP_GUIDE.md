# ุฅุนุฏุงุฏ ูุธุงู ุฎุฏูุงุช ุชุนููููุฉ ๐

## ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
- Node.js 18+ 
- npm ุฃู yarn
- ุญุณุงุจ Supabase
- ุญุณุงุจ Gmail (ููุฅูููู)

## ุฎุทูุงุช ุงูุชุซุจูุช

### 1. ูุณุฎ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
```bash
# ุงูุณุฎ ููู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ ุงููููุฐุฌู
cp .env.example .env.local
```

### 2. ุฅุนุฏุงุฏ Supabase
1. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ ูู [Supabase](https://supabase.com)
2. ุงุฐูุจ ุฅูู Settings โ API
3. ุงูุณุฎ ุงูููู ุงูุชุงููุฉ ุฅูู `.env.local`:
   ```
   NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
   SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
   ```

### 3. ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
ูู Supabase SQL Editorุ ููุฐ ุงููููุงุช ุงูุชุงููุฉ ุจุงูุชุฑุชูุจ:
```sql
-- 1. ุงููููู ุงูุฃุณุงุณู
psql -f database-schema-new.sql

-- 2. ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ (ุงุฎุชูุงุฑู)
psql -f setup-test-data.sql

-- 3. ุชุญุฏูุซ ุฌุฏูู ุงูุฅุดุนุงุฑุงุช
psql -f update-notifications-table.sql
```

### 4. ุฅุนุฏุงุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
ููู Gmail:
1. ูุนูู ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ
2. ุฃูุดุฆ App Password ูู Google Account Security
3. ุฃุถู ุฅูู `.env.local`:
   ```
   SMTP_HOST=smtp.gmail.com
   SMTP_PORT=587
   SMTP_USER=your-email@gmail.com
   SMTP_PASS=your-app-password
   SMTP_FROM=your-email@gmail.com
   ```

### 5. ุฅุนุฏุงุฏ JWT
ุฃูุดุฆ ููุชุงุญ JWT ููู:
```bash
# ุงุณุชุฎุฏู ูููุฏ ุนุดูุงุฆู ููู
JWT_SECRET=your-very-strong-secret-key-min-32-characters
```

### 6. ุชุซุจูุช ุงูุชุจุนูุงุช ูุชุดุบูู ุงููุดุฑูุน
```bash
# ุชุซุจูุช ุงูุชุจุนูุงุช
npm install

# ุชุดุบูู ุงููุดุฑูุน
npm run dev
```

## ุงูุชุญูู ูู ุงูุชุซุจูุช

### ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุชุดุบูู ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
npm run test:db
```

### ุงุฎุชุจุงุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
```bash
# ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุงูุจุฑูุฏ
node src/lib/test-mail.ts
```

## ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

### ุงูุฃุฏูุงุฑ ุงููุชููุฑุฉ:
- **user**: ุนููู ุนุงุฏู
- **admin**: ูุฏูุฑ ุงููุธุงู
- **supervisor**: ูุดุฑู ุงูุฎุฏูุงุช  
- **delegate**: ููุฏูุจ ุชูููุฐ

### ุงููุณุชุฎุฏููู ุงูุชุฌุฑูุจููู (ุจุนุฏ setup-test-data.sql):
```
# Admin
ุงูุจุฑูุฏ: admin@khadamat.com
ูููุฉ ุงููุฑูุฑ: admin123

# Supervisor  
ุงูุจุฑูุฏ: supervisor@khadamat.com
ูููุฉ ุงููุฑูุฑ: supervisor123

# Delegate
ุงูุจุฑูุฏ: delegate@khadamat.com
ูููุฉ ุงููุฑูุฑ: delegate123
```

## ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ

### ููุนููู:
- `/` - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- `/services` - ุงูุฎุฏูุงุช ุงููุชููุฑุฉ
- `/cart` - ุณูุฉ ุงููุดุชุฑูุงุช
- `/my-orders` - ุทูุจุงุชู
- `/messages` - ุงูุฑุณุงุฆู

### ููุฅุฏุงุฑุฉ:
- `/admin` - ููุญุฉ ุงูุฅุฏุงุฑุฉ
- `/admin/services` - ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช
- `/admin/supervisors` - ุฅุฏุงุฑุฉ ุงููุดุฑููู
- `/admin/delegates` - ุฅุฏุงุฑุฉ ุงูููุฏูุจูู

### ูููุดุฑู:
- `/supervisor/dashboard` - ุชูุฒูุน ุงูููุงู
- `/supervisor/messages` - ุฑุณุงุฆู ุงูููุฏูุจูู
- `/supervisor/customer-messages` - ุฑุณุงุฆู ุงูุนููุงุก

### ููููุฏูุจ:
- `/delegate-tasks` - ุงูููุงู ุงููุฎุตุตุฉ
- `/delegate/messages` - ุงูุฑุณุงุฆู ุงููุงุฑุฏุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ "table users does not exist"
```bash
# ุชุฃูุฏ ูู ุชูููุฐ database-schema-new.sql ูู Supabase
```

### ุฎุทุฃ "JWT_SECRET not set"
```bash
# ุชุฃูุฏ ูู ูุฌูุฏ JWT_SECRET ูู .env.local
```

### ุฎุทุฃ 500 ูู APIs
```bash
# ุชุญูู ูู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
# ุชุญูู ูู ุงุชุตุงู Supabase
# ุชุญูู ูู logs ูู Supabase Dashboard
```

## ุงูููุฒุงุช ุงููุชููุฑุฉ โ

- โ ุชุณุฌูู ุงููุณุชุฎุฏููู (ุฌููุน ุงูุฃุฏูุงุฑ)
- โ ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุทูุจ ุงูุฎุฏูุงุช ููุนููู
- โ ุฅุฑุณุงู ุงูุนููุฏ ุนุจุฑ ุงูุจุฑูุฏ
- โ ุชุนููู ุงูููุงู ููุดุฑู
- โ ุงูุชุนุงูู ูุน ุงูุทูุจุงุช ูููุฏูุจ
- โ ูุธุงู ุงูุฑุณุงุฆู ูุงูุฅุดุนุงุฑุงุช
- โ ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ
- โ ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช ุฏููุงููููุงู

## ุงูุฏุนู ูุงูุชุทููุฑ

ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ:
1. ุชุฃูุฏ ูู ุฅุนุฏุงุฏ ุฌููุน ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
2. ุฑุงุฌุน Supabase logs ููุฃุฎุทุงุก
3. ุชุญูู ูู console logs ูู ุงููุชุตูุญ
4. ุฑุงุฌุน ููู ROLES_SYSTEM.md ููุตูุงุญูุงุช
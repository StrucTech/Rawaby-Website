# ุชูุซูู ูุดุฑูุน ุฎุฏูุงุช ุชุนููููุฉ (Khadamat Taalimia)

## ๐ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน

ูุดุฑูุน **ุฎุฏูุงุช ุชุนููููุฉ** (Khadamat Taalimia) ูู ุชุทุจูู ููุจ ูุชูุฏู ูููุฑ ุฎุฏูุงุช ุชุนููููุฉ ูููุตุฑููู ูู ุงูุฎุงุฑุฌุ ุฎุงุตุฉ ูู ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ. ุงูุชุทุจูู ูุฏูุฑ ุงูุนูููุงุช ุงููุงููุฉ ูู ุงุฎุชูุงุฑ ุงูุฎุฏูุงุช ุฅูู ุงูุฏูุน ูุงูุชูุงุตู ุจูู ุงูุฃุทุฑุงู ุงููุฎุชููุฉ.

### ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ูููุดุฑูุน:
- **ุงูุฅุทุงุฑ**: Next.js 14.2.30 ูุน TypeScript
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: Supabase (PostgreSQL)
- **ุฃูุธูุฉ ุงูุชูุซูู**: JWT Tokens (ูุฏุฉ ุงูุตูุงุญูุฉ 7 ุฃูุงู)
- **ุงูุชุดููุฑ**: bcryptjs ูุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- **ูุงุฌูุฉ ุงููุณุชุฎุฏู**: TailwindCSS + Next.js Server Components
- **ุฅูุดุงุก PDF**: jsPDF + html2canvas
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: nodemailer
- **ุญูุธ ุงูุชููู**: js-cookie (Client-side)

---

## ๐ฅ ุฃููุงุน ุงููุณุชุฎุฏููู ูุงูุฃุฏูุงุฑ (4 Roles)

### 1๏ธโฃ **ุงููุณุชุฎุฏู ุงูุนุงุฏู (User)**
- **ุงููุตูู**: ุงูุฎุฏูุงุช ูุงูุฏูุน ูุงูุทูุจุงุช ุงูุฎุงุตุฉ ุจู ููุท
- **ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ**: 
  - ุงูุฑุฆูุณูุฉ
  - ุงูุฎุฏูุงุช
  - ุณูุฉ ุงููุดุชุฑูุงุช
  - ุทูุจุงุชู
  - ุฑุณุงุฆูู

### 2๏ธโฃ **ุงูููุฏูุจ (Delegate)**
- **ุงููุณุคูููุงุช**: ุชูููุฐ ุงูููุงู ุงูููููุฉ ูู ูุจู ุงููุดุฑู
- **ุงูุตูุญุงุช ุงูุฎุงุตุฉ**: 
  - ููุญุฉ ุงูููุงู (/delegate-tasks)
  - ุฑุณุงุฆู ุงููุดุฑู
  - **ูุง ูุฑู ุงูุฃุณุนุงุฑ** ูู ูุงุฆูุฉ ุงูููุงู
  - ูุง ููููู ุงููุตูู ุฅูู ุชูุงุตูู ุงูุทูุจุงุช ุงููุงููุฉ

### 3๏ธโฃ **ุงููุดุฑู (Supervisor)**
- **ุงููุณุคูููุงุช**: 
  - ุฅุฏุงุฑุฉ ุงูุทูุจุงุช ูุชุนููู ุงูููุฏูุจูู
  - ุชุญุฏูุซ ุญุงูุงุช ุงูุทูุจุงุช
  - ุชุชุจุน ุชูุฏู ุงูุนูู
- **ุงูุตูุญุงุช ุงูุฎุงุตุฉ**:
  - ููุญุฉ ุงููุดุฑู (/supervisor/dashboard)
  - ุฑุณุงุฆู ุงูููุฏูุจูู
  - **ูุฑู ุชูุงุตูู ุงูุทูุจุงุช ููู ูุง ูุฑู ุงูุฃุณุนุงุฑ**
- **ุงูุตูุงุญูุงุช**: ุงููุตูู ุฅูู ุนุฑุถ ุชูุงุตูู ุงูุทูุจุงุช ูุงูุนููุฏ

### 4๏ธโฃ **ุงููุณุคูู (Admin)**
- **ุงููุณุคูููุงุช**: ุฅุฏุงุฑุฉ ุดุงููุฉ ูููุธุงู
- **ุงูุตูุญุงุช ุงูุฎุงุตุฉ**:
  - ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ (/admin)
  - ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช
  - ุฅุฏุงุฑุฉ ุงููุดุฑููู
  - ุฅุฏุงุฑุฉ ุงูููุฏูุจูู
  - ุฅุฏุงุฑุฉ ุงูููุงู ูุงูุทูุจุงุช
  - **ูุฑู ุฌููุน ุงูุจูุงูุงุช ุจูุง ูููุง ุงูุฃุณุนุงุฑ**

---

## ๐ ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ (Pages)

### **1. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (`/page.tsx`)**
```
ุงูุฏูุฑ: ุตูุญุฉ ุงููุจูุท ูุงูุชูุฌูู ุงูุฃุณุงุณู
ุงููููุฒุงุช:
- ุชูุฌูู ุชููุงุฆู ุจูุงุก ุนูู ุฏูุฑ ุงููุณุชุฎุฏู:
  - Admin โ /admin
  - Supervisor โ /supervisor/dashboard
  - Delegate โ /delegate-tasks
  - User โ ุงูุจูุงุก ุนูู ุงูุฑุฆูุณูุฉ
- ุนุฑุถ ุงูุฎุฏูุงุช ุงููุชุงุญุฉ ูููุณุชุฎุฏููู ุงูุนุงุฏููู
```

### **2. ุตูุญุฉ ุงูุชุณุฌูู (`/register`)**
```
ุงูุฏูุฑ: ุฅูุดุงุก ุญุณุงุจ ูุณุชุฎุฏู ุฌุฏูุฏ
ุงูุญููู ุงููุทููุจุฉ:
- ุงูุงุณู ุงููุงูู (fullName)
- ุฑูู ุงูุฌูุงู (mุตุฑู ุตุญูุญ: 01XXXXXXXXX)
- ุงูุฑูู ุงููููู (14 ุฑูู)
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ูููุฉ ุงููุฑูุฑ (8 ุฃุญุฑู ุนูู ุงูุฃูู)
- ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ

ุงููููุฒุงุช:
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- ุชุดููุฑ ูููุฉ ุงููุฑูุฑ
- ุฅุฑุณุงู ุฑุงุจุท ุชุญูู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ ูุชู ุฅูุดุงุคู ูู "user" ุนุงุฏู
```

### **3. ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู (`/login`)**
```
ุงูุฏูุฑ: ุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏู
ุงูุญููู ุงููุทููุจุฉ:
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ูููุฉ ุงููุฑูุฑ

ุงููููุฒุงุช:
- ุงูุชุญูู ูู ุตุญุฉ ุจูุงูุงุช ุงููุณุชุฎุฏู
- ุงูุชุญูู ูู ุชูุนูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุฅุตุฏุงุฑ JWT token ุตุงูุญ ููุฏุฉ 7 ุฃูุงู
- ุญูุธ ุงูุชููู ูู ุงูููููุฒ
- ุฅุนุงุฏุฉ ุงูุชูุฌูู ุจูุงุก ุนูู ุงูุฏูุฑ
```

### **4. ุตูุญุฉ ุงูุฎุฏูุงุช (`/services`)**
```
ุงูุฏูุฑ: ุนุฑุถ ูุฅุถุงูุฉ ุงูุฎุฏูุงุช ุฅูู ุงูุณูุฉ
ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ:
- ุนุฑุถ ุฌููุน ุงูุฎุฏูุงุช ุงููุชุงุญุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ูู ุฎุฏูุฉ ุชุนุฑุถ:
  - ุงูุงุณู (title)
  - ุงููุตู (description)
  - ุงููุฏุฉ ุจุงูุฃูุงู (duration_days)
  - ุงูุณุนุฑ (price)
- ุฅููุงููุฉ ุฅุถุงูุฉ ุงูุฎุฏูุฉ ุฅูู ุงูุณูุฉ
- ุงูุณูุฉ ุชุญูุธ ูู localStorage ูู UUIDs
- ุงูุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู ูุจู ุงููุชุงุจุนุฉ
```

### **5. ุณูุฉ ุงููุดุชุฑูุงุช (`/cart`)**
```
ุงูุฏูุฑ: ุนุฑุถ ุงูุฎุฏูุงุช ุงููุฎุชุงุฑุฉ ูุฅุฏุงุฑุชูุง
ุงููุธุงุฆู:
- ุนุฑุถ ุฌููุน ุงูุฎุฏูุงุช ูู ุงูุณูุฉ
- ุญุณุงุจ ุงูุณุนุฑ ุงูุฅุฌูุงูู
- ุญุฐู ุงูุฎุฏูุงุช ูู ุงูุณูุฉ
- ุงูุงูุชูุงู ุฅูู ุตูุญุฉ ูุนูููุงุช ุงูููู (guardian-info)
ุงูุจูุงูุงุช ุงููุญููุธุฉ: localStorage.orderDetails
```

### **6. ูุนูููุงุช ุงูููู (`/guardian-info`)**
```
ุงูุฏูุฑ: ุฌูุน ุจูุงูุงุช ุงูููู ูุงูุทุงูุจ
ุงูุญููู ุงููุทููุจุฉ:

** ูุนูููุงุช ุงูููู:**
- ุงูุงุณู ุงููุงูู
- ุงูุญุงูุฉ ุงูุงุฌุชูุงุนูุฉ
- ุงููุงุชู
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุงูุนูู

** ูุนูููุงุช ุงูุทุงูุจ:**
- ุงุณู ุงูุทุงูุจ
- ุงููุฑุญูุฉ ุงูุฏุฑุงุณูุฉ
- ุงููุฌููุน
- ููุน ุงูุดูุงุฏุฉ

ุงููููุฒุงุช:
- ุญูุธ ุงูุจูุงูุงุช ูู localStorage
- ุญุณุงุจ ุงุณุชุฎุฏุงู NTLM Auth ูุน ูููุฐุฌ ุจูุงูุงุช ูู Supabase
- ุงูุงูุชูุงู ุฅูู ุตูุญุฉ ุชูุงุตูู ุงูุทูุจ
```

### **7. ุชูุงุตูู ุงูุทูุจ (`/order-details`)**
```
ุงูุฏูุฑ: ุนุฑุถ ูุชุฃููุฏ ุชูุงุตูู ุงูุทูุจ ุงููุงููุฉ
ุงููุญุชููุงุช:
- ูุนูููุงุช ุงูููู
- ูุนูููุงุช ุงูุทุงูุจ
- ูุงุฆูุฉ ุงูุฎุฏูุงุช ุงููุฎุชุงุฑุฉ
- ุงูุณุนุฑ ุงูุฅุฌูุงูู

ุงููููุฒุงุช ุงููุงูุฉ:
- ุงูููุฏูุจูู ูุง ูุณุชุทูุนูู ุงููุตูู (ูุชู ุฅุนุงุฏุฉ ุชูุฌูููู)
- ุงููุดุฑููู ูุงูุณูุจุฑูุงูุฒุฑุฒ ูููููู ุงูุนุฑุถ **ุจุฏูู ุฑุคูุฉ ุงูุฃุณุนุงุฑ**
- ุงููุณุคูููู ูุฑูู ุงูุจูุงูุงุช ูุงููุฉ
- ุงูุฒุฑ "ูุชุงุจุนุฉ ููุนูุฏ" ูุฐูุจ ุฅูู ุตูุญุฉ ุฑูุน ุงูุนููุฏ
```

### **8. ุงูุนูุฏ/ุงูุงุชูุงููุฉ (`/contract`)**
```
ุงูุฏูุฑ: ุนุฑุถ ูุชูููุน ุงูุนูุฏ ุงูุฅููุชุฑููู
ุงููููุฒุงุช:
- ุนุฑุถ ุดุงูู ููุนูุฏ ุจุชูุงุตูู:
  - ุจูุงูุงุช ุงูููู ูุงูุทุงูุจ
  - ุงูุฎุฏูุงุช ุงููุฎุชุงุฑุฉ
  - ุงูุฃุณุนุงุฑ ูุงูุดุฑูุท
- ููุญุฉ ุชูููุน ุฑูููุฉ (Canvas)
  - ุงูุฑุณู ุจุงูููู
  - ูุณุญ ุงูุนูุงูุฉ
  - ุฅุนุงุฏุฉ ุงููุญุงููุฉ
- ุชุญููู ุงูุนูุฏ ุฅูู PDF ุจุทุฑููุชูู:
  - jsPDF + html2canvas ููุนูุฏ ุงููุนูุฏ
  - ูุจุงุดุฑุฉ ุนุจุฑ API ููุนููุฏ ุงููุจุณุทุฉ
- ุญูุธ ุงูุนูุฏ ุงููููุน
- ุงูุงูุชูุงู ุฅูู ุตูุญุฉ ุงูุฏูุน
```

### **9. ุฑูุน ุงูุนููุฏ (`/upload-contracts`)**
```
ุงูุฏูุฑ: ุงุณุชูุจุงู ุงูุนููุฏ ุงููููุนุฉ ูู ุงูุนููู
ุงูุฎุทูุงุช:
1. ุฅุฑุณุงู ุงูุนููุฏ ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
2. ุงูุชุธุงุฑ ุงุณุชูุจุงู ุงูุนููุฏ ูู ุงูุนููู
3. ุฑูุน ุงููููุงุช:
   - ุงูุนูุฏ 1 (PDF/Word/Image)
   - ุงูุนูุฏ 2 (PDF/Word/Image)
4. ุนุฏ ุชูุงุฒูู (5 ุซูุงูู)
5. ุงูุงูุชูุงู ููุฏูุน

ุงูุจูุงูุงุช ุงููุญููุธุฉ: ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

### **10. ุงูุฏูุน (`/payment`)**
```
ุงูุฏูุฑ: ูุนุงูุฌุฉ ุฏูุน ุงููุงุชูุฑุฉ
ุทุฑู ุงูุฏูุน ุงููุชุงุญุฉ:
- ุจุทุงูุฉ ุงุฆุชูุงู (Credit Card)
- ุจุทุงูุฉ ูุงูุฏุง (Mada)
- Apple Pay
- ุชุญููู ุจููู

ุงููููุฒุงุช:
- ุงูุชุญูู ูู ุจูุงูุงุช ุงูุจุทุงูุฉ
- ูุนุงูุฌุฉ ุฏูุน ุขููุฉ (ูุญุงูุงุฉ)
- ุชุฃููุฏ ุงูุฏูุน
- ุฅูุดุงุก ุทูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฅุฑุณุงู ุชุฃููุฏ ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
```

### **11. ุชุฃููุฏ ุงูุฏูุน (`/payment/success`)**
```
ุงูุฏูุฑ: ุชุฃููุฏ ูุฌุงุญ ุงูุนูููุฉ
ุงููุนูููุงุช ุงููุนุฑูุถุฉ:
- ุชูุงุตูู ุงูุทูุจ
- ุฑูู ุงููุฑุฌุน (Order ID)
- ุงูุจูุงูุงุช ุงููุญููุธุฉ
- ุฎูุงุฑุงุช ุงูุชูุงุตู ูุน ุงูุฏุนู
```

### **12. ููุญุฉ ุชุญูู ุงููุดุฑู (`/supervisor/dashboard`)**
```
ุงูุฏูุฑ: ุฅุฏุงุฑุฉ ุงูุทูุจุงุช ูุงูููุฏูุจูู ูู ูุจู ุงููุดุฑู
ุงููุธุงุฆู:
- ุนุฑุถ ุฌููุน ุงูุทูุจุงุช ุงูููุนูููุฉ ูููุดุฑู
- ุชุนููู ููุฏูุจูู ููุทูุจุงุช
- ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ูู ูุงุฆูุฉ ููุณุฏูุฉ
- 6 ุญุงูุงุช ูุชุงุญุฉ:
  1. ุชุญุช ุงููุฑุงุฌุนุฉ (under_review) - ุฃุตูุฑ
  2. ุชู ุชุนููู ุงููุดุฑู ูุงูููุฏูุจ (assigned) - ุฃุฒุฑู
  3. ุชุญุช ุงูุฅุฌุฑุงุก (in_progress) - ุจููุณุฌู
  4. ุชู ุงูุงูุชูุงุก (completed) - ุฃุฎุถุฑ
  5. ุงูุชุธุงุฑ ุฑุฏ ุงูุนููู (waiting_client) - ุจุฑุชูุงูู
  6. ุงูุชุธุงุฑ ุงููุฑููุงุช (waiting_attachments) - ุฃุญูุฑ

ุงูุฌุฏุงูู ุงููุนุฑูุถุฉ:
- ุฑูู ุงูุทูุจ
- ุจูุงูุงุช ุงูุนููู
- ุงูุฎุฏูุงุช (ุจุฏูู ุงูุฃุณุนุงุฑ)
- ุงูุญุงูุฉ ุงูุญุงููุฉ
- ุฎูุงุฑุงุช ุงูุชุนููู ูุงูุชุญุฏูุซ

ุงูุจูุงูุงุช:
- ุงููุดุฑู ูุฑู ุงูุทูุจุงุช ุงูููุนูููุฉ ูู ููุท
- ููููู ุนุฑุถ ุชูุงุตูู ุงูุทูุจ ูุงูุนููุฏ
```

### **13. ููุงู ุงูููุฏูุจ (`/delegate-tasks`)**
```
ุงูุฏูุฑ: ุนุฑุถ ุงูููุงู ุงูููููุฉ ููููุฏูุจ
ุงููุนูููุงุช:
- ุฑูู ุงูุทูุจ
- ุจูุงูุงุช ุงูุนููู
- ุงูุฎุฏูุงุช (ุจุฏูู ุงูุฃุณุนุงุฑ) โ **ุงูุฃุณุนุงุฑ ูุฎููุฉ ููุง**
- ุญุงูุฉ ุงููููุฉ
- ุฒุฑ "ุชู ุงูุฅูุฌุงุฒ"

ุงููููุฒุงุช:
- ูุฑู ุงูููุฏูุจ ููุท ุงูููุงู ุงูููุนูููุฉ ูู
- ุงูุฌุฏูู ุจุณูุท ููุงุถุญ
- ุงูุชุญุฏูุซ ุงููุจุงุดุฑ ููุญุงูุฉ
- ูุง ูุณุชุทูุน ุงููุตูู ุฅูู ุชูุงุตูู ุงูุฃุณุนุงุฑ
```

### **14. ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ (`/admin`)**
```
ุงูุฏูุฑ: ุงูุจูุงุจุฉ ุงูุฑุฆูุณูุฉ ูููุณุคูู
ุงูุฎูุงุฑุงุช ุงูุฑุฆูุณูุฉ:
1. ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช (/admin/services)
2. ุฅุฏุงุฑุฉ ุงููุดุฑููู (/admin/supervisors)
3. ุฅุฏุงุฑุฉ ุงูููุฏูุจูู (/admin/delegates)
4. ุชูุฒูุน ููุชุงุจุนุฉ ุงูููุงู (/admin/tasks)

ูุฐู ุงูุตูุญุงุช ุชุณูุญ ุจู:
- ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงูุฎุฏูุงุช
- ุฅุถุงูุฉ ุงููุดุฑููู ูุงูููุฏูุจูู
- ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
- ุชูุฒูุน ุงูุทูุจุงุช
```

### **15. ุตูุญุฉ ูู ูุญู (`/about`)**
```
ุงูุฏูุฑ: ูุนูููุงุช ุนู ุงูุดุฑูุฉ ูุงูุฎุฏูุงุช
ุงููุญุชูู: ูุนูููุงุช ุนุงูุฉ ุนู ุงูุฎุฏูุงุช ูุงูุฑุคูุฉ ูุงูุฑุณุงูุฉ
```

### **16. ุทูุจุงุชู (`/my-orders`)**
```
ุงูุฏูุฑ: ุนุฑุถ ุทูุจุงุช ุงููุณุชุฎุฏู ุงูุณุงุจูุฉ
ุงููุนูููุงุช:
- ุฑูู ุงูุทูุจ
- ุงูุชุงุฑูุฎ
- ุงูุญุงูุฉ ุงูุญุงููุฉ
- ุงูุฎุฏูุงุช
- ุงูุณุนุฑ ุงูุฅุฌูุงูู
- ุฑุงุจุท ุนุฑุถ ุงูุชูุงุตูู ุงููุงููุฉ
```

### **17. ุฑุณุงุฆูู (`/messages`)**
```
ุงูุฏูุฑ: ูุธุงู ุงููุฑุงุณูุฉ ุจูู ุงููุณุชุฎุฏููู ูุงูุฏุนู
ุงููููุฒุงุช:
- ุฑุณุงุฆู ุจูู ุงูุนููู ูุงูุฏุนู
- ุฑุณุงุฆู ุจูู ุงูููุฏูุจ ูุงููุดุฑู
- ุชูุจููุงุช ููุฑุณุงุฆู ุงูุฌุฏูุฏุฉ
```

---

## ๐ API Routes (ูุณุงุฑุงุช ุงูุจูุงูุงุช ุงูุฎูููุฉ)

### **ูุณุงุฑุงุช ุงููุตุงุฏูุฉ**

#### **POST `/api/auth/register`**
```
ุงูุฏูุฑ: ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
ุงูุฅุฏุฎุงูุงุช:
{
  "name": "ุงูุงุณู ุงููุงูู",
  "phone": "01XXXXXXXXX",
  "nationalId": "14 ุฑูู",
  "email": "email@example.com",
  "password": "ูููุฉ ูุฑูุฑ"
}

ุงููุฎุฑุฌุงุช:
{
  "message": "ุชู ุฅูุดุงุก ุงูุญุณุงุจ ุจูุฌุงุญ",
  "token": "JWT Token",
  "user": {...}
}

ุงูุนูููุงุช:
- ุชุดููุฑ ูููุฉ ุงููุฑูุฑ
- ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ุจุฑูุฏ ูุณุจู
- ุฅุฑุณุงู ุฑุงุจุท ุงูุชุญูู
- ุฅูุดุงุก ุงููุณุชุฎุฏู ูู "user" ุนุงุฏู
```

#### **POST `/api/auth/login`**
```
ุงูุฏูุฑ: ุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏู
ุงูุฅุฏุฎุงูุงุช:
{
  "email": "email@example.com",
  "password": "ูููุฉ ุงููุฑูุฑ"
}

ุงููุฎุฑุฌุงุช:
{
  "message": "ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ",
  "token": "JWT Token",
  "user": {
    "_id": "UUID",
    "name": "ุงูุงุณู",
    "email": "ุงูุจุฑูุฏ",
    "role": "admin|supervisor|delegate|user"
  }
}

ุงูุชุญูู:
- ุงูุจุฑูุฏ ูุงููููุฉ ููุฌูุฏุฉ ููุตุญูุญุฉ
- ุงูุจุฑูุฏ ูููุนูู
- ุฅุตุฏุงุฑ token ุฌุฏูุฏ
```

#### **POST `/api/auth/verify-email`**
```
ุงูุฏูุฑ: ุชูุนูู ุญุณุงุจ ุงููุณุชุฎุฏู
ุงูุฅุฏุฎุงูุงุช:
{
  "token": "ุฑุงุจุท ุงูุชุญูู"
}

ุงููุธููุฉ:
- ุงูุชุญูู ูู ุตุญุฉ ุงูุฑุงุจุท
- ุชูุนูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุชูุนูู ุงูุญุณุงุจ
```

### **ูุณุงุฑุงุช ุงูุทูุจุงุช**

#### **GET `/api/orders`**
```
ุงูุฏูุฑ: ุฌูุจ ุงูุทูุจุงุช ุจูุงุก ุนูู ุฏูุฑ ุงููุณุชุฎุฏู
ุงููุนุงููุงุช:
- role: "supervisor" | "admin" (ููุน ุงูุนุฑุถ)
- delegateId: UUID (ูุนุฑู ุงูููุฏูุจ)
- supervisorId: UUID (ูุนุฑู ุงููุดุฑู)
- detailed: "true" (ุนุฑุถ ููุตู)

ุงูููุชุฑุฉ ุญุณุจ ุงูุฏูุฑ:
- Admin: ูุฑู ุฌููุน ุงูุทูุจุงุช
- Supervisor: ูุฑู ุงูุทูุจุงุช ุงูููุนูููุฉ ูู
- Delegate: ูุฑู ุงูููุงู ุงูููุนูููุฉ ูู
- User: ูุฑู ุทูุจุงุชู ููุท

ุงููุฎุฑุฌุงุช:
{
  "orders": [
    {
      "id": "UUID",
      "client_id": "UUID",
      "assigned_supervisor_id": "UUID",
      "assigned_delegate_id": "UUID",
      "services": ["service_id_1", "service_id_2"],
      "status": "new|in_progress|done|pending|paid|under_review|assigned|completed|waiting_client|waiting_attachments",
      "total_price": 500,
      "created_at": "2024-01-01T00:00:00Z",
      "updated_at": "2024-01-02T00:00:00Z"
    }
  ]
}
```

#### **POST `/api/orders`**
```
ุงูุฏูุฑ: ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ
ุงูุฅุฏุฎุงูุงุช:
{
  "services": ["service_id_1", "service_id_2"],
  "totalPrice": 500,
  "guardian": {
    "fullName": "ุงูุงุณู",
    "mobileNumber": "ุฑูู ุงูุฌูุงู",
    "nationalId": "ุงูุฑูู ุงููููู"
  },
  "student": {
    "fullName": "ุงูุงุณู",
    "grade": "ุงููุฑุญูุฉ",
    "totalScore": "ุงููุฌููุน",
    "certificateType": "ุงูููุน"
  }
}

ุงูุนูููุงุช:
- ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุญูุธ ุจูุงูุงุช ุงูููู ูุงูุทุงูุจ
- ุญูุธ ุงูุฎุฏูุงุช
- ุชุญุฏูุฏ ุงูุญุงูุฉ ุงูุฃูููุฉ: "new"
```

#### **PUT `/api/orders`**
```
ุงูุฏูุฑ: ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ (ููููุฏูุจ)
ุงูุฅุฏุฎุงูุงุช:
{
  "orderId": "UUID",
  "status": "done"
}

ุงููุธููุฉ:
- ุงูููุฏูุจ ููููู ุชุญุฏูุซ ุงูุญุงูุฉ ุฅูู "done"
- ุชุญุฏูุซ ุงูููุช (updated_at)
```

#### **PATCH `/api/admin/orders/[id]`**
```
ุงูุฏูุฑ: ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ (ูููุดุฑู ูุงููุณุคูู)
ุงูุฅุฏุฎุงูุงุช:
{
  "status": "under_review|assigned|in_progress|completed|waiting_client|waiting_attachments|paid|cancelled",
  "staffId": "UUID" (ุงุฎุชูุงุฑู),
  "completedBy": "name" (ุงุฎุชูุงุฑู)
}

ุงูุญุงูุงุช ุงููุชุงุญุฉ:
1. under_review - ุชุญุช ุงููุฑุงุฌุนุฉ
2. assigned - ุชู ุงูุชุนููู
3. in_progress - ุชุญุช ุงูุฅุฌุฑุงุก
4. completed - ุชู ุงูุฅููุงู
5. waiting_client - ุงูุชุธุงุฑ ุงูุนููู
6. waiting_attachments - ุงูุชุธุงุฑ ุงููุฑููุงุช
7. paid - ูุฏููุน
8. cancelled - ููุบู

ุงูุชุญูู:
- ูุฌุจ ุฃู ูููู ุงููุณุชุฎุฏู admin ุฃู supervisor
- ุงูุญุงูุฉ ูุฌุจ ุฃู ุชููู ูู ุงููุงุฆูุฉ ุงููุณููุญุฉ

**ุญุงูุฉ ุญุงููุฉ: 500 ERROR** - ููุฌุฏ ูุดููุฉ ูู ุงููุนุงูุฌุฉ
```

#### **GET `/api/orders/[id]/contract`**
```
ุงูุฏูุฑ: ุงูุญุตูู ุนูู ุงูุนูุฏ ุงูุฎุงุต ุจุงูุทูุจ
ุงููุนุงููุงุช:
- id: UUID ุงูุทูุจ
- role: ุฏูุฑ ุงููุณุชุฎุฏู

ุงููุฎุฑุฌุงุช:
- ุจูุงูุงุช ุงูุนูุฏ ุงููุงููุฉ
- ูุนูููุงุช ุงูููู ูุงูุทุงูุจ
- ูุงุฆูุฉ ุงูุฎุฏูุงุช

ุงูุตูุงุญูุงุช:
- Admin: ูุฑู ูู ุดูุก
- Supervisor: ูุฑู ุงูุชูุงุตูู ุจุฏูู ุงูุฃุณุนุงุฑ
- Delegate: ูุง ูููู ุงููุตูู
- User: ูุฑู ููุท ุฅุฐุง ูุงู ูู ุงูุนููู
```

### **ูุณุงุฑุงุช ุงูุฎุฏูุงุช**

#### **GET `/api/services`**
```
ุงูุฏูุฑ: ุฌูุจ ูุงุฆูุฉ ุงูุฎุฏูุงุช
ุงููุฎุฑุฌุงุช:
{
  "services": [
    {
      "id": "UUID",
      "title": "ุงุณู ุงูุฎุฏูุฉ",
      "description": "ูุตู",
      "duration_days": 30,
      "price": 500,
      "notes": "ููุงุญุธุงุช",
      "created_at": "2024-01-01T00:00:00Z",
      "updated_at": "2024-01-02T00:00:00Z"
    }
  ]
}
```

#### **POST `/api/services` (Admin ููุท)**
```
ุงูุฏูุฑ: ุฅุถุงูุฉ ุฎุฏูุฉ ุฌุฏูุฏุฉ
ุงูุฅุฏุฎุงูุงุช:
{
  "title": "ุงุณู ุงูุฎุฏูุฉ",
  "description": "ูุตู",
  "duration_days": 30,
  "price": 500,
  "notes": "ููุงุญุธุงุช"
}

ุงูุชุญูู:
- ูุฌุจ ุฃู ูููู ุงููุณุชุฎุฏู admin
```

#### **PUT/DELETE `/api/services/[id]` (Admin ููุท)**
```
ุงูุฏูุฑ: ุชุนุฏูู ุฃู ุญุฐู ุฎุฏูุฉ
ุงูุชุญูู:
- ูุฌุจ ุฃู ูููู ุงููุณุชุฎุฏู admin
```

### **ูุณุงุฑุงุช ุงููุณุคูููู ูุงูููุฏูุจูู**

#### **GET `/api/admin/supervisors`**
```
ุงูุฏูุฑ: ุฌูุจ ูุงุฆูุฉ ุงููุดุฑููู
ุงููุฎุฑุฌุงุช: ูุงุฆูุฉ ูุงููุฉ ุจุงููุดุฑููู
```

#### **GET `/api/admin/delegates`**
```
ุงูุฏูุฑ: ุฌูุจ ูุงุฆูุฉ ุงูููุฏูุจูู
ุงููุฎุฑุฌุงุช: ูุงุฆูุฉ ูุงููุฉ ุจุงูููุฏูุจูู
```

#### **POST `/api/admin/delegates`**
```
ุงูุฏูุฑ: ุฅุถุงูุฉ ููุฏูุจ ุฌุฏูุฏ
ุงูุฅุฏุฎุงูุงุช:
{
  "name": "ุงูุงุณู",
  "email": "ุงูุจุฑูุฏ",
  "phone": "ุงููุงุชู"
}

ุงูุชุญูู:
- ูุฌุจ ุฃู ูููู ุงููุณุชุฎุฏู admin
```

### **ูุณุงุฑุงุช ุงูุนููุฏ ูุงููููุงุช**

#### **POST `/api/send-contract`**
```
ุงูุฏูุฑ: ุฅุฑุณุงู ุงูุนูุฏ ููุนููู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
ุงููุฎุฑุฌุงุช:
{
  "message": "ุชู ุงูุฅุฑุณุงู ุจูุฌุงุญ",
  "email": "ุงูุจุฑูุฏ ุงููุฑุณู ุฅููู"
}
```

#### **POST `/api/admin/contracts/upload`**
```
ุงูุฏูุฑ: ุฑูุน ุงูุนููุฏ ุงููููุนุฉ
ุงููููุงุช:
- contract1: ุงูููู ุงูุฃูู
- contract2: ุงูููู ุงูุซุงูู

ุงูุชุฎุฒูู: ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ุงูุชุฎุฒูู ุงูุณุญุงุจู
```

#### **GET `/api/simple-contracts/[id]`**
```
ุงูุฏูุฑ: ุฌูุจ ุงูุนูุฏ ุงููุจุณุท
ุงูุตูุงุญูุงุช:
- Admin: ูุฑู ูู ุดูุก
- Supervisor: ูุฑู ุจุฏูู ุงูุฃุณุนุงุฑ
- Delegate: ูุง ูููู ุงููุตูู

ูููุฒ: ููุณุชุฎุฏู ูู ูุจู ุงููุดุฑููู ูุงูููุฏูุจูู ููุนุฑุถ ุงูุณุฑูุน
```

### **ูุณุงุฑุงุช ุงูุฏูุน**

#### **POST `/api/pay`**
```
ุงูุฏูุฑ: ูุนุงูุฌุฉ ุงูุฏูุน
ุงูุฅุฏุฎุงูุงุช:
{
  "orderId": "UUID",
  "amount": 500,
  "paymentMethod": "credit|mada|apple|bank_transfer",
  "cardNumber": "4532..." (ุงุฎุชูุงุฑู),
  "expiryDate": "MM/YY" (ุงุฎุชูุงุฑู),
  "cvv": "123" (ุงุฎุชูุงุฑู)
}

ุงููุฎุฑุฌุงุช:
{
  "success": true,
  "message": "ุชู ุงูุฏูุน ุจูุฌุงุญ",
  "transactionId": "TXN123",
  "orderStatus": "paid"
}

ุงูุนูููุงุช:
- ุงูุชุญูู ูู ุงูุจูุงูุงุช
- ูุนุงูุฌุฉ ุงูุฏูุน
- ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ
- ุฅุฑุณุงู ุชุฃููุฏ ุจุฑูุฏู
```

### **ูุณุงุฑุงุช ุงูุจุฑูุฏ ูุงูุฅุฎุทุงุฑุงุช**

#### **GET `/api/notifications`** (ุงุฎุชูุงุฑู)
```
ุงูุฏูุฑ: ุฌูุจ ุงูุฅุฎุทุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
ุงููุฎุฑุฌุงุช:
{
  "unreadCount": 5,
  "notifications": [...]
}
```

#### **POST `/api/send-drive-links`**
```
ุงูุฏูุฑ: ุฅุฑุณุงู ุฑูุงุจุท Google Drive ููุนููู
ุงูุฅุฏุฎุงูุงุช:
{
  "orderId": "UUID",
  "driveLinks": ["link1", "link2"]
}

ุงููุธููุฉ:
- ุฅุฑุณุงู ุงูุฑูุงุจุท ุนุจุฑ ุงูุจุฑูุฏ
- ุญูุธ ุงูุฑูุงุจุท ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

---

## ๐ฆ ููุงุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช (Models)

### **1. ุฌุฏูู ุงููุณุชุฎุฏููู (users)**
```typescript
{
  id: UUID (Primary Key)
  name: string
  country: string (default: 'ุงูุณุนูุฏูุฉ')
  phone: string
  national_id: string
  email: string (Unique)
  password: string (hashed)
  role: 'user' | 'admin' | 'supervisor' | 'delegate'
  active: boolean
  email_verification_token: string | null
  email_verified: boolean
  user_id: integer (ูุฑูุฏ ููู ุฏูุฑ)
  created_at: timestamp
  updated_at: timestamp
}
```

### **2. ุฌุฏูู ุงูุฎุฏูุงุช (services)**
```typescript
{
  id: UUID (Primary Key)
  title: string
  description: string
  duration_days: integer
  price: decimal
  notes: string | null
  created_at: timestamp
  updated_at: timestamp
}
```

### **3. ุฌุฏูู ุงูุทูุจุงุช (orders)**
```typescript
{
  id: UUID (Primary Key)
  client_id: UUID (Foreign Key - users)
  assigned_supervisor_id: UUID | null (Foreign Key - users)
  assigned_delegate_id: UUID | null (Foreign Key - users)
  staff_id: UUID | null
  services: string[] (Array of service UUIDs)
  status: 'new' | 'in_progress' | 'done' | 'pending' | 'paid' | 
          'under_review' | 'assigned' | 'completed' | 'waiting_client' | 'waiting_attachments'
  note: string | null
  total_price: decimal
  created_at: timestamp
  updated_at: timestamp
}
```

### **4. ุฌุฏูู ูุนูููุงุช ุงูููู (guardian_info) - ุงุฎุชูุงุฑู**
```typescript
{
  id: UUID
  order_id: UUID (FK)
  full_name: string
  mobile_number: string
  national_id: string
  email: string
  marital_status: string
  job: string
  created_at: timestamp
}
```

### **5. ุฌุฏูู ูุนูููุงุช ุงูุทุงูุจ (student_info) - ุงุฎุชูุงุฑู**
```typescript
{
  id: UUID
  order_id: UUID (FK)
  full_name: string
  grade: string
  total_score: string
  certificate_type: string
  created_at: timestamp
}
```

---

## ๐ ูุธุงู ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### **ูุณุชููุงุช ุงููุตูู**

| ุงูููุฒุฉ | User | Delegate | Supervisor | Admin |
|--------|------|----------|------------|-------|
| ุนุฑุถ ุงูุฎุฏูุงุช | โ | โ | โ | โ |
| ุฅูุดุงุก ุทูุจ | โ | โ | โ | โ |
| ุฑุคูุฉ ุงูุฃุณุนุงุฑ | โ | โ | โ | โ |
| ุชุนููู ููุฏูุจูู | โ | โ | โ | โ |
| ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ | โ | ุฌุฒุฆู | โ | โ |
| ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช | โ | โ | โ | โ |
| ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู | โ | โ | โ | โ |

### **JWT Token Payload**
```typescript
{
  userId: string (UUID)
  email: string
  name: string
  role: 'user' | 'admin' | 'supervisor' | 'delegate'
  iat: number (issued at)
  exp: number (expires in 7 days)
}
```

### **ุญูุธ ุงูุชููู**
- **ุงูููุงู**: Cookies (js-cookie)
- **ุงููุฏุฉ**: 7 ุฃูุงู
- **ุงูุฃูุงู**: httpOnly ูููุถู ูู ุงูุฅูุชุงุฌ
- **ุงููุตูู**: ูุชู ุงูุชุญูู ูู ูู ุทูุจ API

---

## ๐จ ุงูููููุงุช ุงูุฑุฆูุณูุฉ (Components)

### **1. Navbar**
```
ุงูุฏูุฑ: ุดุฑูุท ุงูุชููู ุงูุฑุฆูุณู
ุงููููุฒุงุช:
- ุฑูุงุจุท ูุฎุชููุฉ ุญุณุจ ุฏูุฑ ุงููุณุชุฎุฏู
- ุนุฑุถ ุงุณู ุงููุณุชุฎุฏู ุงููุณุฌู
- ุฒุฑ ุชุณุฌูู ุงูุฎุฑูุฌ
- ุฑุงุจุท ุชุณุฌูู ุฏุฎูู ูููุณุชุฎุฏููู ุงูุฌุฏุฏ
- ุนุฑุถ ุนุฏุฏ ุงูุฅุฎุทุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
- ูุงุฆูุฉ ููุณุฏูุฉ ูููุงุชู
- RTL support (ูู ุงููููู ูููุณุงุฑ)
```

### **2. Footer**
```
ุงูุฏูุฑ: ุณูุชุฑ ุงููููุน
ุงููุญุชูู:
- ูุนูููุงุช ุงูุงุชุตุงู
- ุฑูุงุจุท ูููุฉ
- ุณูุงุณุงุช ุงูุฎุตูุตูุฉ
- ุดุฑูุท ุงูุงุณุชุฎุฏุงู
```

### **3. ErrorBoundary**
```
ุงูุฏูุฑ: ุงูุชูุงุท ุงูุฃุฎุทุงุก ุนูู ูุณุชูู ุงููููุจูููุช
ุงููููุฒุงุช:
- ุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ ูุฏูุฉ
- ููุน ุชููู ุงูุชุทุจูู ูุงููุงู
- ุชุณุฌูู ุงูุฃุฎุทุงุก
```

### **4. NotificationBadge**
```
ุงูุฏูุฑ: ุนุฑุถ ุงูุฅุฎุทุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
ุงููููุฒุงุช:
- ุนุฏุฏ ุงูุฅุฎุทุงุฑุงุช
- ุชูุจููุงุช ููุฑูุฉ
- ุฑุงุจุท ููุตูุญุงุช ุฐุงุช ุงูุตูุฉ
```

### **5. UserNotificationBadge**
```
ุงูุฏูุฑ: ุฅุฎุทุงุฑุงุช ุฎุงุตุฉ ุจุงููุณุชุฎุฏู
ุงููููุฒุงุช:
- ุฑุณุงุฆู ุฌุฏูุฏุฉ
- ุชุญุฏูุซุงุช ุงูุทูุจุงุช
- ุชูุจููุงุช ุงูุฏูุน
```

---

## ๐ง ุงููููุงุช ุงููุณุงุนุฏุฉ (Lib Files)

### **auth.ts**
```
ุงูุฏูุฑ: ุงูุชุญูู ูุงูุชุนุงูู ูุน JWT tokens
ุงูุฏูุงู:
- verifyToken(token): ุงูุชุญูู ูู ุตุญุฉ ุงูุชููู
- isTokenPayload(decoded): ุงูุชุญูู ูู ุตูุบุฉ ุงูุชููู
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุฎุชููุฉ (ุงูุชูุงุก ุงูุตูุงุญูุฉุ ุบูุฑ ุตุญูุญ)
```

### **jwt.ts**
```
ุงูุฏูุฑ: ุฅูุดุงุก ูุงูุชุนุงูู ูุน JWT
ุงูุฏูุงู:
- ุฅูุดุงุก ุชููู ุฌุฏูุฏ
- ูู ุชุดููุฑ ุงูุชููู
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
```

### **mailer.ts**
```
ุงูุฏูุฑ: ุฅุฑุณุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
ูุณุชุฎุฏู: nodemailer
ุงูุฏูุงู:
- ุฅุฑุณุงู ุจุฑูุฏ ุงูุชุญูู
- ุฅุฑุณุงู ุชุฃููุฏ ุงูุทูุจ
- ุฅุฑุณุงู ุงูุนููุฏ
- ุฅุฑุณุงู ุงูุฑูุงุจุท
```

### **supabase.ts**
```
ุงูุฏูุฑ: ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
ุงูููุงููุชุงุช:
- supabase: ุนููู ุนุงู (ูููุณุชุฎุฏููู)
- supabaseAdmin: ุนููู ุงูุฅุฏุงุฑุฉ (ููุนูููุงุช ุงูุญุณุงุณุฉ)
```

### **test-mail.ts ู test-supabase.ts**
```
ุงูุฏูุฑ: ุงูุงุฎุชุจุงุฑ ูุงูุชุทููุฑ
ุงููููุฒุงุช:
- ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุงูุจุฑูุฏ
- ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
```

---

## ๐ ููุฏุณุฉ ุงูุชุทุจูู

### **ุชุฏูู ุงูุนูููุฉ ุงูุฃุณุงุณู (User Journey)**

```
1๏ธโฃ ุงูุชุณุฌูู ูุงูุฏุฎูู
   โโ /register (ุฅูุดุงุก ุญุณุงุจ)
   โโ /login (ุชุณุฌูู ุงูุฏุฎูู)
   โโ email verification (ุชูุนูู ุงูุจุฑูุฏ)

2๏ธโฃ ุงุฎุชูุงุฑ ุงูุฎุฏูุงุช
   โโ /services (ุนุฑุถ ุงูุฎุฏูุงุช)
   โโ /cart (ุณูุฉ ุงููุดุชุฑูุงุช)
   โโ POST /api/orders (ุฅูุดุงุก ุงูุทูุจ)

3๏ธโฃ ูุนูููุงุช ุงูุนููู
   โโ /guardian-info (ูุนูููุงุช ุงูููู ูุงูุทุงูุจ)
   โโ /order-details (ุชุฃููุฏ ุงูุจูุงูุงุช)
   โโ POST /api/guardian-student (ุญูุธ ุงูุจูุงูุงุช)

4๏ธโฃ ุงูุชูููุน ูุงูุนูุฏ
   โโ /contract (ุงูุนูุฏ ุงูุฅููุชุฑููู)
   โโ canvas ููุชูููุน ุงูุฑููู
   โโ ุฌูุจ PDF ูู API

5๏ธโฃ ุฑูุน ุงูุนููุฏ ุงููููุนุฉ
   โโ /upload-contracts (ุฑูุน ุงููููุงุช)
   โโ POST /api/admin/contracts/upload

6๏ธโฃ ุงูุฏูุน
   โโ /payment (ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน)
   โโ POST /api/pay (ูุนุงูุฌุฉ ุงูุฏูุน)

7๏ธโฃ ุงูุชุฃููุฏ
   โโ /payment/success (ุชุฃููุฏ ุงููุฌุงุญ)
   โโ ุฅุฑุณุงู ุจุฑูุฏ ุชุฃููุฏู
```

### **ุชุฏูู ุงููุดุฑู (Supervisor Journey)**

```
1๏ธโฃ ุชุณุฌูู ุงูุฏุฎูู
   โโ /login (ูู supervisor)

2๏ธโฃ ููุญุฉ ุงููุดุฑู
   โโ /supervisor/dashboard
   โโ ุนุฑุถ ุงูุทูุจุงุช ุงููุนููุฉ
   โโ ุชุนููู ุงูููุฏูุจูู
   โโ ุชุญุฏูุซ ุญุงูุงุช ุงูุทูุจุงุช

3๏ธโฃ ุนุฑุถ ุงูุชูุงุตูู
   โโ GET /api/orders?role=supervisor
   โโ GET /api/simple-contracts/[id]
   โโ ุนุฑุถ ุจุฏูู ุงูุฃุณุนุงุฑ

4๏ธโฃ ุฅุฏุงุฑุฉ ุงูุญุงูุงุช
   โโ PATCH /api/admin/orders/[id]
   โโ ุชุญุฏูุซ ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ
```

### **ุชุฏูู ุงูููุฏูุจ (Delegate Journey)**

```
1๏ธโฃ ุชุณุฌูู ุงูุฏุฎูู
   โโ /login (ูู delegate)

2๏ธโฃ ููุงู ุงูููุฏูุจ
   โโ /delegate-tasks
   โโ ุนุฑุถ ุงูููุงู ุงููุนููุฉ
   โโ ุฌุฏูู ุจุฏูู ุงูุฃุณุนุงุฑ
   โโ ุชุญุฏูุซ ุญุงูุฉ ุงููููุฉ "ุชู ุงูุฅูุฌุงุฒ"

3๏ธโฃ ุงูุชูุงุตู
   โโ /delegate/messages
   โโ ุงูุฑุณุงุฆู ูู ุงููุดุฑู
```

### **ุชุฏูู ุงููุณุคูู (Admin Journey)**

```
1๏ธโฃ ุชุณุฌูู ุงูุฏุฎูู
   โโ /login (ูู admin)

2๏ธโฃ ููุญุฉ ุงูุชุญูู
   โโ /admin
   โโ ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช (/admin/services)
   โโ ุฅุฏุงุฑุฉ ุงููุดุฑููู (/admin/supervisors)
   โโ ุฅุฏุงุฑุฉ ุงูููุฏูุจูู (/admin/delegates)
   โโ ุชูุฒูุน ุงูููุงู (/admin/tasks)

3๏ธโฃ ุนุฑุถ ุงูุจูุงูุงุช ุงููุงููุฉ
   โโ ุฌููุน ุงูุทูุจุงุช
   โโ ุฌููุน ุงูุจูุงูุงุช (ูุน ุงูุฃุณุนุงุฑ)
   โโ ุชูุงุฑูุฑ ุดุงููุฉ
```

---

## ๐ ูุซุงู ุนูู ุฏูุฑุฉ ุญูุงุฉ ุงูุทูุจ (Order Lifecycle)

```
ุงูุญุงูุงุช ุงูููููุฉ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1. new (ุฌุฏูุฏ)
   โ (ุนูุฏูุง ููุดุฆ ุงููุณุชุฎุฏู ุงูุทูุจ)
   
2. under_review (ุชุญุช ุงููุฑุงุฌุนุฉ)
   โ (ุงููุดุฑู ูุฑุงุฌุน ุงูุทูุจ)
   
3. assigned (ุชู ุงูุชุนููู)
   โ (ุชู ุชุนููู ููุฏูุจ)
   
4. in_progress (ุชุญุช ุงูุฅุฌุฑุงุก)
   โ (ุงูููุฏูุจ ูุนูู ุนูู ุงููููุฉ)
   
5. waiting_attachments (ุงูุชุธุงุฑ ุงููุฑููุงุช)
   โ (ุงุญุชุงุฌ ููููุงุช ุฅุถุงููุฉ)
   
6. waiting_client (ุงูุชุธุงุฑ ุงูุนููู)
   โ (ุงูุชุธุงุฑ ุฑุฏ ุงูุนููู)
   
7. completed (ุชู ุงูุงูุชูุงุก)
   โ
   
8. paid (ูุฏููุน)
   โโ ุฃู
   โโ cancelled (ููุบู)
```

---

## ๐ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ ุงููููุฐุฉ

### โ ุงููููุฒุงุช ุงูููุชููุฉ:
- [x] ูุธุงู ุงูุชุณุฌูู ูุงูุฏุฎูู ูุน JWT
- [x] 4 ุฃููุงุน ูู ุงููุณุชุฎุฏููู ูุน ุตูุงุญูุงุช ูุฎุชููุฉ
- [x] ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช ูุงูุทูุจุงุช
- [x] ูุธุงู ุงูุฏูุน (ูุญุงูุงุฉ)
- [x] ุงูุนููุฏ ุงูุฅููุชุฑูููุฉ ูุงูุชูููุน ุงูุฑููู
- [x] ุฅุฎูุงุก ุงูุฃุณุนุงุฑ ูู ุงูููุฏูุจูู ูุงููุดุฑููู
- [x] ูุธุงู ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจุงุช (6 ุญุงูุงุช ุฌุฏูุฏุฉ)
- [x] ุชุนููู ุงูููุฏูุจูู ูู ูุจู ุงููุดุฑููู
- [x] ุฅุฑุณุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุฑุงุจุท ุงูุชุญููุ ุงูุชุฃููุฏุงุช)
- [x] ุชุญููู ุงูุนููุฏ ุฅูู PDF
- [x] ูุธุงู ุงูุฅุฎุทุงุฑุงุช ุงูุฃุณุงุณู

### ๐ ููุฏ ุงูุชุทููุฑ:
- [ ] ุชุตุญูุญ ุงูุฎุทุฃ 500 ูู PATCH /api/admin/orders/[id]
- [ ] ุงุฎุชุจุงุฑ ูุงูู ูุธุงู ุชุญุฏูุซ ุงูุญุงูุงุช
- [ ] ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุญุงูุงุช ุงูุทูุจุงุช ุฅุฐุง ูุฒู ุงูุฃูุฑ

### ๐ ุงููุฎุทุท ุงููุณุชูุจูู:
- [ ] ูุธุงู ูุชูุฏู ููุฅุฎุทุงุฑุงุช (Real-time)
- [ ] ููุญุฉ ุชุญูููุงุช ููุจูุนุงุช
- [ ] ูุธุงู ุชููููุงุช ุงููุณุชุฎุฏููู
- [ ] ุจุฑูุงูุฌ ุงูุฅุญุงูุฉ
- [ ] ุฏุนู ุนููุงุช ูุชุนุฏุฏุฉ
- [ ] ุชุทุจูู ูุงุชูู

---

## ๐ ุงููุดุงูู ุงูุญุงููุฉ ูุงูุญููู

### **ุงููุดููุฉ ุงูุญุงููุฉ:**
```
โ HTTP 500 Error ูู PATCH /api/admin/orders/[id]
   
ุงูุฃุนุฑุงุถ:
- ุทูุจ ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ููุดู ุจู 500
- ุงูุฎุทุฃ ูุญุฏุซ ุนูุฏ ูุญุงููุฉ ุชุบููุฑ ุงูุญุงูุฉ
- ุงูุฑุณุงูุฉ: "Internal Server Error"

ุงููุญุงููุงุช ุงูุณุงุจูุฉ:
- ุชู ุฅุถุงูุฉ logging ุดุงูู
- ุชู ุงูุชุญูู ูู ุตุญุฉ ุงูุญุงูุงุช
- ุชู ุงูุชุญูู ูู ุงูุตูุงุญูุงุช

ุงูุฎุทูุฉ ุงูุชุงููุฉ:
- ูุญุต ุณุฌูุงุช ุงูุฎุงุฏู ุงููุนููุฉ (console logs)
- ุงูุชุญูู ูู ุนููุฏ ุงูุญุงูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงุฎุชุจุงุฑ ุงูุงุณุชุนูุงู SQL ุงููุจุงุดุฑ
```

---

## ๐ ุงููุฑุงุฌุน ูุงูููุงุฑุฏ

- **Next.js Documentation**: https://nextjs.org/docs
- **Supabase Documentation**: https://supabase.com/docs
- **JWT.io**: https://jwt.io
- **TailwindCSS**: https://tailwindcss.com
- **jsPDF**: https://github.com/parallax/jspdf
- **html2canvas**: https://html2canvas.hertzen.com

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุจุฑูุฏ (SMTP)
2. **ุงูุฃูุงู**: ุงุณุชุฎุฏู HTTPS ูู ุงูุฅูุชุงุฌ
3. **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ุชุฃูุฏ ูู ูุฌูุฏ ุฌููุน ุงูุฌุฏุงูู ูุงูุนูุงูุงุช
4. **ุงูุฑููุฒ ุงูุณุฑูุฉ**: ูุง ุชุดุงุฑู JWT_SECRET ุฃู SUPABASE_SERVICE_ROLE_KEY
5. **ุงูุงุฎุชุจุงุฑ**: ูุจู ุงูุฏูุน ููุฅูุชุงุฌุ ุงุฎุชุจุฑ ุฌููุน ุณููุงุฑูููุงุช ุงูุฏูุน
6. **ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ**: ุงุญุฑุต ุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ููุชุธูุฉ ููุจูุงูุงุช

---

**ุชู ุฅูุดุงุก ูุฐุง ุงูุชูุซูู ูู**: 2024
**ุขุฎุฑ ุชุญุฏูุซ**: ุจูุงุก ุนูู ุงูููุฏ ุงูุญุงูู ูููุดุฑูุน
**ุงูุญุงูุฉ**: ููุฏ ุงูุชุทููุฑ ูุงูุตูุงูุฉ
